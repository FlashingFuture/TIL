# 생성형 AI를 활용한 코드리뷰

### SE4ML

- DNN 테스트 / 자동 수정, 멀티에이전트 LLM 아키텍쳐 등 설계

### ML4SE

- 결함 위치 식별, 결함 자동 재현, 프로그램 자동 수정 등

## Index

1. 대규모 언어모델의 작동원리
2. LLM과 소프트웨어공학
3. 코드리뷰와 LLM
4. LLM과 코드리뷰의 현황

## 대규모 언어모델(LLM)의 작동 원리

### AI(Machine Intelligence)의 분류

#### 풀어야 하는 문제

- 논리
- 학습
- 계획
- 자연어 처리
- 인지
- 동작

#### 접근 방법

- 기호
- 통계
- Soft Computing
- ANN
- GA
- Meta heuristic

### Language Model

Statistical Language Model : 다음 단어가 무엇인지 통계적으로 예측하는 수학적 장치

- 단어의 집합에 대해 실제로 누군가가 말한 문장의 집합을 기반으로 그 문장이 말해질 가능성을 계산하는 모델

N-Gram : 문장을 단어 n개씩 자른 단위

- 이를 기반으로 앞의 몇 단어에 대해 뒷 단어를 통계적으로 예측할 수 있음

- 사람들이 실제로 작성하는 프로그램은 대부분 간단하고 반복적이며, 따라서 통계적 언어 모델로 표현하고 소프트웨어 공학에 활용할 수 잇는 예측가능한 통계적 특징을 가지고 있음
  - 문법 고려가 아닌 n-gram 기반 통계적 분석만으로도 높은 정확도의 자동완성 엔진이 만들어짐

LLM : 근본적으로 Transformer 아키텍처를 바탕으로 다음 토큰 예측을 자기회귀 방식으로 학습한 통계적 언어 모델

- 창발 : 대규모 모델에서 구성 요소에는 없는 특징이 전체 구조에서 자발적으로 나타남

  - 예시 : 프롬프트 엔지니어링 : 주어진 텍스트의 의미를 바탕으로 응답을 생성할 수 있음

  ## LLM과 소프트웨어공학

  소프트웨어공학 연구에서 가장 강력한 돌풍은 LLM

  - 프로그램의 통사적, 문법적 특징(syntax) : 문법과 구조가 올바른가?
  - 프로그램의 의미적 특징(semantic) : 계산한 내용의 의미가 무엇이고, 그것이 올바른가?

  ### 버그 자동 재현 기술 Libro

  - 자연어로 버그리포트가 주어지면 이를 재현하는 테스트를 생성

  ### 결함 위치 자동 식별 기술 AutoFL

  - 실패한 테스트를 알려주면 코드를 꺼내보면서 버그의 위치를 알려줌

  ### 안드로이드 앱 자동 테스팅 기술 DroidAgent

  - 안드로이드 앱이 주어졌을 때 자동으로 다양한 시나리오를 계획하고 실행

## 코드리뷰와 LLM

### 생성형 AI 산출물 종류에 따른 검증방식의 차이

- 자연어 -> 프로그래밍 언어 : 실행 결과에 따른 다양한 분석 기법이 이미 존재함

- 프로그래밍 언어 -> 자연어 : 사람의 판단 이외에 자동화할 수 있는 기법이 잘 없음

### 사람이 작성한 코드를 LLM이 리뷰 vs LLM이 작성한 코드를 사람이 리뷰

- 사람 -> 사람(리뷰) : 통상적
- LLM -> LLM(리뷰) : 스카이넷?
- LLM -> 사람(리뷰) : 기계처럼 자동화되어서는 안됨
- 사람 -> LLM(리뷰) : 코드 리뷰의 목적을 생각해야 함

### 코드리뷰를 하는 이유

- 코드의 가독성 확보
- 결함 방지 / 품질 향상
- 코딩 스타일 일관성 유지
- 개발 과정 기록

#### 대부분 정량화하기 힘든 추상적인 목표임

- 자동화를 통해 얻을 수 있는 것과 없는 것을 항상 고민해야 함

### GPT와 코드 보안

- Khoury et al., IEEE Systems Man and Cybernetics 2023

## 생성형AI를 이용한 코드리뷰

Google DIDACT : 자연어나 프로그래밍언어를 생성하는 것이 목표가 아닌 Google 내부에서 벌어지는 개발 프로세스에 따른, 해당 코드에 필요한 수정사항을 학습함

### LLM의 한계와 코드리뷰의 목적을 생각할 때 적절한 적용 범위는?

- 코드 리뷰는 코드 품질에 대한 최후의 보루일 뿐더러 그 이상의 역할도 수행함
- LLM은 학습 내용에 기반해 코드와 자연어 사이의 의미적 추론을 수행할 수 있지만, 정확도를 보장할 수 없음
- 전적으로 LLM에 의존하는 자동화된 코드리뷰는 본래의 목적과 맞지 않고, 리뷰를 돕는 역할이 적절함
  - 늘 LLM을 믿을 경우 자동화의 역설에 빠질 수 있음
