# 2장. 데이터 입 / 출력 구현
## 029. 데이터베이스 개요
### Database
데이터베이스 : 공동으로 사용될 데이터를 중복을 배제하여 통합하고 저장장치에 저장하여 항상 사용할 수 있도록 운영하는 운영 데이터

### DataBase Management System
DBMS(데이터베이스 관리 시스템) : 사용자의 요구에 따라 정보를 생성해주고 데이터베이스를 관리해 주는 소프트웨어
- DBMS의 필수 기능 3개
  - 정의(Definition) : 데이터의 형(Type), 구조, 이용 방식, 제약 조건 등을 명시하는 기능
  - 조작(Manipulation): 데이터 검색, 갱신, 삽입, 삭제 인터페이스 수단 제공
  - 제어(Control) : 데이터 무결성, 보안, 권한 검사, 병행 제어 제공

### Schema
스키마: 데이터베이스의 구조와 제약조건에 관한 전반적인 명세를 기술한 것
- 외부 스키마 : 사용자나 응용 프로그래머가 각 개인의 입장에서 필요로 하는 데이터베이스의 논리적 구조를 정의한 것
- 개념 스키마 : 데이터베이스 전체의 논리적 구조로 사용자들이 필요로 하는 모든 데이터를 종합한 하나만 존재하는 데이터베이스
- 내부 스키마 : 물리적 저장장치의 입장에서 본 데이터베이스 구조로 저장 레코드의 형식, 저장 데이터의 표현 방법, 내부 레코드의 물리적 순서 등을 나타냄

## 030. 데이터베이스 설계
### Requirements
데이터베이스 설계 시 고려사항 : 무결성, 일관성, 회복, 보안, 효율성, 데이터베이스 확장

### 데이터베이스 설계 순서
요구조건 분석 -> 개념적 설계 -> 논리적 설계 -> 물리적 설계 -> 구현

### 요구조건 분석
요구조건 분석 : 데이터베이스를 사용할 사람들로부터 필요한 용도를 파악하는 것

### 개념적 설계(정보 모델링, 개념화)
개념적 설계 : 현실 세계에 대한 인식을 추상적 개념으로 표현하는 과정
- 개념 스키마 모델링과 트랜잭션 모델링을 병행 수행

### 논리적 설계(데이터 모델링)
논리적 설계 : 현실 세계에서 발생하는 자료를 저장할 수 있도록 특정 DBMS가 지원하는 논리적 자료 구조로 변환(mapping)하는 과정
- 논리적 스키마를 DBMS에 맞게 설계

### 물리적 설계(데이터 구조화)
물리적 설계 : 논리적 구조로 표현된 데이터를 물리적 구조의 데이터로 변환하는 과정
- 데이터베이스 파일의 저장 구조 및 액세스 경로를 결정함

### 데이터베이스 구현
데이터베이스 구현 : 논리적 설계와 물리적 설계에서 도출된 데이터베이스 스키마를 파일로 생성하는 과정

## 031. 데이터 모델
데이터 모델: 현실 세계의 정보들을 컴퓨터에 표현하기 위해 체계적으로 표현한 개념적 모형

### 데이터 모델에 표시할 요소
- 구조(structure): 논리적으로 표현된 개체 타입들 간의 관계로서 데이터 구조 및 정적 성질 표현
- 연산(Operation): 데이터베이스에 저장된 실제 데이터를 처리하는 작업에 대한 명세로써 데이터베이스를 조작하는 기본 도구
- 제약조건(Constraint): 데이터베이스에 저장될 수 있는 실제 데이터의 논리적인 제약 조건

## 033. E-R(개체-관계) 모델
### Entity-Relationship
E-R 모델 : 개체와 개체 간 관계를 기본 요소로 이용하여 무질서한 데이터를 개념적인 논리 데이터로 표현하기 위한 방법

### E-R Diagram
- □(사각형): 개체(Entity) 타입
- ◇(마름모): 관계(Relationship) 타입
- ○(타원): 속성(Attribute)
- ◎(이중 타원): 다중 값 속성(복합 속성)
  - 밑줄 타원 : 기본 키 속성
  - 복수 타원: 복합 속성(e. g. 성명 : 성 + 이름)
- 관계 : 1:1, 1:N, N:M 등 개체 간 관계에 대한 대응수를 선 위에 기술
- -(선): 개체 타입과 속성을 연결

## 034. 관계형 데이터베이스의 구조
### 관계형 데이터베이스
관계형 데이터베이스: 2차원적인 표(Table)를 이용해 데이터 상호 관계를 정의하는 데이터베이스

### Relation
릴레이션 : 데이터들을 표의 형태로 표현한 것으로 구조를 나타내는 릴레이션 스키마와 실제 값들인 릴레이션 인스턴스로 구성됨
- 한 릴레이션에 똑같은 튜플이 포함될 수 없다
- 한 릴레이션의 튜플 사이에는 순서가 없다

### Tuple
튜플 : 릴레이션을 구성하는 각각의 행으로 파일 구조의 레코드와 같은 의미

### Attribute
속성: 릴레이션을 구성하는 각각의 열로 데이터베이스를 구성하는 가장 작은 논리적 단위
- 파일 구조상의 데이터 항목 / 데이터 필드에 해당됨
- 속성의 명칭은 유일해야 하지만 속성의 구성값은 동일한 값이 있을 수 있음

### Domain
도메인 : 하나의 속성이 취할 수 있는 같은 자료형의 원자값(Atomic value)들의 집합
- 실제 속성값의 합법 여부를 검사하는 데 이용됨

## 035. 관계형 데이터베이스의 제약조건 - 키
### Key
키 : 데이터베이스에서 조건에 맞는 튜플을 찾거나 순서대로 정렬할 때 기준이 되는 속성

### Candidate Key
후보 키: 튜플을 유일하게 식별할 수 있도록 사용되는 속성들의 부분집합
- 유일성(Unique): 하나의 키 값으로 하나의 튜플만을 유일하게 식별할 수 있어야 함
- 최소성(Minimality): 키를 구성하는 속성 하나를 제거하면 유일하게 식별할 수 없도록 꼭 필요한 최소의 속성으로 구성되어야 함

### Primary Key
기본 키: 후보 키 중 특별하게 선정된 주 키(Main Key)
- 기본 키는 NULL 값을 가질 수 없음
### Alternate Key
대체 키: 후보 키가 둘 이상일 때 기본 키를 제외한 나머지 후보 키

### Super Key
슈퍼 키 : 속성들의 집합으로 구성된 키로, 유일성은 만족하지만 최소성을 만족시킬 수 없음

### Foreign Key
외래 키 : 다른 릴레이션의 기본 키를 참조하는 속성 또는 속성들의 집합

## 036. 관계형 데이터베이스의 제약조건 - 무결성
### Integrity
무결성 : 데이터베이스에 저장된 데이터 값과 그것이 현실 세계의 실제값과 일치하는 정확성
- 개체 무결성 : 기본 테이블의 기본 키를 구성하는 어떤 속성도 NULL, 중복된 값을 가질 수 없음
- 참조 무결성 : 외래 키 값은 참조 릴레이션의 기본 키 값과 동일하거나 NULL이여야 함 : 릴레이션은 참조할 수 없는 외래 키 값을 가질 수 없음
- 도메인 무결성 : 주어진 속성 값이 정의된 도메인에 속해야 함
- 사용자 정의 무결성 : 속성 값들이 사용자 정의 제약조건을 만족해야 함

## 037. 관계대수 및 관계해석
### 관계대수
관계대수 : 관계형 DB에서 원하는 정보와 그 정보를 검색하기 위해 어떻게 유도하는가를 기술하는 절차적인 언어

### 순수 관계 연산자
SELECT(σ) : 릴레이션에 존재하는 튜플 중 선택 조건을 만족하는 튜플의 부분집합을 구해 새로운 릴레이션을 만듬
- 릴레이션의 행에 해당하는 튜플을 구하는 것이므로 수평 연산이라고도 함

PROJECT(π) : 주어진 릴레이션의 속성 리스트에 제시된 속성 값만을 추출하여 새로운 릴레이션을 만드는 연산
- 연산 결과에 중복이 존재하면 중복을 제거함
- 릴레이션의 열에 해당하는 속성을 추출하는 것이므로 수직 연산이라고도 함

JOIN(⋈) : 공통 속성을 중심으로 두 개의 릴레이션을 합쳐 새로운 릴레이션을 만드는 연산
- JOIN의 결과는 Cartesian Product를 수행한 후 SELECT를 수행하는 것과 같음

DIVISION(÷) : X ⊃ Y 인 릴레이션 R(X) 와 S(Y) 가 있을 때 R의 속성이 S인 속성값을 모두 가진 튜플에서 S 가 가진 속성을 제외한 속성만을 구하는 연산

### 일반 집합 연산자
UNION(∪) : 두 릴레이션의 튜플의 합집합을 구하는 연산

INTERSECTION(∩) : 두 릴레이션의 튜플의 교집합을 구하는 연산

DIFFERENCE(-) : 두 릴레이션의 튜플의 차집합을 구하는 연산

CARTESIAN PRODUCT(x) : 두 릴레이션의 튜플들의 순서쌍을 구하는 연산
- 교차곱의 속성의 수는 두 릴레이션의 속성의 수를 더한 것이고, 튜플의 수는 두 릴레이션의 튜플의 수의 곱

### 관계해석
관계해석 : 관계 데이터의 연산을 표현하는 방법

## 038. 이상 / 함수적 종속
### Anomaly
이상(Anomaly) : 테이블에서 일부 속성의 종속(Redundancy)으로 인해 데이터의 중복이 발생하여 테이블 조작 시 문제가 발생하는 현상
- 삽입 이상, 삭제 이상, 갱신 이상 등

### Functional Dependency
함수적 종속 : 테이블에서 X와 Y가 테이블 속성 집합의 부분집합일 때, 속성 X의 모든 값에 대해 시간과 관계없이 항상 속성 Y의 값이 오직 하나만 연관되어 있는 경우
- X가 Y의 값을 결정지을 때 X → Y 로 표현
- 완전(Full) 함수적 종속 : 속성 Y가 집합 X에 대해 함수적 종속이면서 그 어떤 X의 진부분집합에도 함수적 종속이 아닌 경우
- 부분(Partial) 함수적 종속 : 속성 Y가 집합 X에 대해 함수적 종속이면서 다른 X의 진부분집합에 함수적 종속인 경우
- 이행적(Transitive) 함수적 종속 : X → Y, Y → Z 이고 X → Z 일 때 이행적 함수적 종속

## 039. 정규화
### Normalization
정규화 : 테이블의 속성들이 상호 종속적인 관계를 갖는 특성을 이용해 테이블을 무손실 분해하는 과정

### 정규화 과정
제 1정규형 : 테이블의 모든 속성이 하나의 원자값만을 갖도록 분리하는 것

제 2정규형 : 제1 정규형이 진행된 테이블에 대해 기본키가 아닌 모든 속성이 기본키에 대해 완전 함수적 종속을 만족하도록 테이블을 분리하는 것

제 3정규형 : 제2 정규형이 진행된 테이블에 대해 이행적 함수적 종속을 만족하지 않도록 분리하는 것

BCNF : 모든 결정자가 후보 키인 정규형으로, 제 3 정규형에 여러 후보 키가 서로 중첩되어 나타나는 경우에 적용 가능

제 4정규형 : 테이블에 다중 값 종속 A →→ B가 존재할 때 테이블의 모든 속성이 A에 함수적 종속 관계를 만족하는 정규형

제 5정규형 : 테이블의 조인 종속(Join Dependency)이 테이블의 후보키를 통해서만 성립하는 정규형

## 040. 반정규화
### Denormalization
반정규화 : 시스템 성능 향상 등을 위해 정규화된 데이터 모델을 의도적으로 통합 / 중복 / 분리 하여 정규화 원칙을 위배하는 행위
- 테이블 통합, 테이블 분할, 중복 테이블 추가, 중복 속성 추가 등

## 042. 트랜잭션 분석 / CRUD 분석
### Transaction
트랜잭션 : 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 한꺼번에 수행되어야 할 일련의 연산을 의미함

### features of Transaction
- Atomicity(원자성) : 트랜잭션 연산은 모두 반영되도록 완료(Commit)되거나 전혀 반영되지 않도록 복구(Rollback)되어야 함
- Consistency(일관성) : 트랜잭션이 성공적으로 완료될 시 언제나 일관성 있는 데이터베이스 상태로 변환해야 함
- Isolation(독립성) : 하나의 트랜잭션 실행 중에 다른 트랜잭션의 연산이 끼어들 수 없음
- Durability(영속성) : 완료된 트랜잭션의 결과는 시스템에 영구적으로 반영되어야 함

### CRUD 분석
CRUD 분석 : 프로세스와 테이블 간 CRUD 매트릭스를 만들어 트랜잭션을 분석하는 것

## 047. 데이터베이스 이중화 / 서버 클러스터링
### RTO / RPO
- Recovery Time Objective(목표 복구 시간) : 업무 중단 시점으로부터 복구되어 가동될 때까지의 소요 시간
- Recovery Point Objective(목표 복구 시점 : 업무 중단 시점으로부터 데이터를 복구할 수 있는 기준점

## 048. 데이터베이스 보안
### Encryption
암호화 : 송신자가 지정한 수신자 외에는 내용을 알 수 없도록 평문을 암호문으로 변환하는 것

### 접근 통제
접근통제 : 데이터가 저장된 객체와 이를 사용하려는 주체 사이의 흐름을 제한하는 것
- 접근통제 3요소 : 접근통제 정책, 접근통제 매커니즘, 접근통제 보안모델

### 접근통제 기술
- 임의 접근통제(DAC, Discretionary Access Contorl) : 사용자의 신원에 따라 접근 권한을 부여하는 방식
	- 데이터 소유자가 권한을 지정하고 제어함
	- 객체를 생성한 사용자가 객체에 대한 모든 권한을 부여받고, 권한을 다른 사용자에게 허가할 수도 있음
- 강제 접근통제(MAC, Mandatory Access Control) : 주체와 객체의 등급을 비교하여 접근 권한을 부여하는 방식
	- 시스템이 접근통제 권한을 지정함
- 역할 기반 접근통제(RBAC, Role Based Access Contorl) : 사용자의 역할에 따라 접근 권한을 부여하는 방식

## 049. 데이터베이스 백업
### log
로그 파일 : 데이터베이스의 처리 내용, 이용 상황 등 상태 변화를 시간의 흐름에 따라 모두 기록한 파일
- 복귀(Undo) : 변경된 내용을 가장 최근부터 거슬러 올라가며 트랜잭션 작업을 취소
- 재생(Redo) : 덤프와 로그를 활용해 가장 최근의 정상적인 데이터베이스로 회복시킨 후 트랜잭션 실행