# 데이터 모델링의 이해

## 데이터 모델링

데이터 모델링

- 정보 시스템을 구축하기 위한 데이터 관점의 업무 분석 기법
- 현실 세계의 데이터를 약속된 표기법으로 표현하는 과정
- 데이터베이스르 구축하기 위한 분석 및 설계의 과정

## 데이터 모델링 유의점

- 중복: 동일 데이터 중복 저장 시 저장공간 낭비 및 수정에 대한 일관성 유지 힘듬
- 비유연성: 데이터 구조가 변경에 취약 시 새로운 요구사항 반영 및 유지보수 힘듬
- 비일관성: 같은 데이터가 다른 값으로 저장 시 신뢰성 하락 및 오류 발생 가능성 상승

## 데이터베이스 스키마 구조

- 외부 스키마: 사용자 / 응용프로그램이 데이터베이스를 바라보는 각각의 관점으로 필요 데이터만 선택적으로 보여줌
- 개념 스키마: 데이터베이스의 구조와 제약조건을 정의하여 논리적인 데이터 모델을 나타냄
- 내부 스키마: 데이터가 실제 저장되는 방식과 물리적 구조를 정의함

## ERD(Entity-Relationship Diagram) 작성 순서

1. 엔터티 그림
2. 엔터티 배치
3. 엔터티 간 관계 설정
4. 관계명 기술
5. 관계 참여도 기술
6. 관계 필수여부 기술

## 엔터티의 특징

- 반드시 해당 업무에서 필요하고 관리하고자 하는 정보여야 함
- 유일한 식별자에 대해 식별이 가능해야 함
- 영속적으로 존재하는 인스턴트(두 개 이상)의 집합이어야 함
- 업무 프로세스에 의해 이용되야 함
- 반드시 속성이 존재해야 함
- 다른 엔터티와 최소 한 개 이상의 관계가 있어야 함

## 발생 시점에 따른 엔터티 분류

- 기본 키 엔터티: 다른 엔터티의 부모 역할을 하며 시스템에서 독립적으로 생성되고 관리되는 엔터티
- 중심 엔터티: 기본 키 엔터티와 행위 엔터티를 연결하여 다양한 관계를 가지는 중요한 엔터티
- 행위 엔터티: 특정 시점의 이벤트나 트랜잭션을 기록하는 엔터티로 기본 키 또는 중심 엔터티를 참조하여 생성됨

## 앤터티, 인스턴스, 속성, 속성값의 관계

- 한 개의 엔터티는 두 개 이상의 인스턴스 집합이어야 함
- 한 개의 엔터티는 두 개 이상의 속성을 가짐
- 한 개의 속성은 한 개의 속성값을 가짐

## 속성의 특성에 따른 분류

- 기본 속성: 엔터티가 본래 가지는 고유한 속성으로 별도의 가공 없이 직접 저장되는 데이터
- 설계 속성: 시스템 설계 과정에서 식별이나 관리 목적을 위해 추가된 속성으로 인위적으로 생성된 데이터
- 파생 속성: 다른 속성 값을 이용하여 계산되거나 유도되는 속성으로 별도로 저장되지 않고 필요 시 생성

## 도메인

- 도메인 : 각 속성이 가질 수 있는 값의 범위로, 엔터티 내에서 속성에 대한 데이터 타입, 크기, 제약사항을 지정하는 것

## 속성의 명칭 부여

- 해당 업무에서 사용하는 이름을 부여
- 서술식 속성명은 사용하지 않음
- 약어 사용은 가급적 제한
- 전체 데이터 모델에서 유일성을 확보하는 것이 좋음

## 관계의 표기법

- 관계명(Membership): 관계의 이름
- 관계차수(Cardinality): 1:1, 1:M, M:N
- 관계선택사양(Optionality): 필수관계, 선택관계

## 식별자의 종류

식별자: 엔터티 내에서 각 개체를 고유하게 구별할 수 있도록 지정된 속성 또는 속성들의 집합

- 엔터티 내에서 대표성을 가지는가에 따라 주식별자(Primary Identifier)와 보조식별자(Alternative Identifier)로 구분
- 엔터티 내에서 스스로 생성되었는지 여부에 따라 내부식별자와 외부식별자(Foreign Identifier)로 구분
- 단일 속성으로 식별이 되는가에 따라 단일식별자(Single Identifier)와 복합식별자(Composit Identifier)로 구분
- 업무적으로 의미가 있던 속성을 대체하여 일련번호와 같이 새롭게 만든 식별자 구분을 위해 본질식별자와 인조식별자로 구분

## 주식별자의 특징

- 유일성: 주식별자에 의해 엔터티 내 모든 인스턴스들을 유일하게 구분
- 최소성: 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야 함
- 불변성: 주식별자가 한번 특정 엔터티에 지정되면 그 식별자의 값은 변하지 않아야 함
- 존재성: 주식별자가 지정되면 반드시 데이터 값이 존재해야 함(IS NOT NULL)

# 데이터 모델과 SQL

## 정규형

정규형: 데이터의 중복을 최소화하고 일관성을 유지하기 위해 테이블을 구조화하는 규칙과 단계

- 제1정규형: 모든 속성은 반드시 하나의 값을 가져야 함
- 제2정규형: 엔터티의 일반속성은 주식별자 전체에 종속이어야 함
- 제3정규형: 엔터티의 일반속성 간에는 서로 종속적이지 않음

## 1차 정규화(First Normal Form)

테이블이 원자성(Atomicity)을 만족하도록 모든 속성이 단일 값을 가지도록 정규화하는 과정

- 로우단위의 중복뿐 아니라 컬럼 단위의 중복 모두 1차 정규화의 대상

## 2차 정규화(Second Normal Form)

부분적 함수 종속(Partial Dependency)을 제거하여 완전 함수 종속(Full Dependency)을 만족하도록 하는 과정

- 기본 키의 일부에만 종속되는 속성을 분리
- 모든 속성이 기본 키 전체에 종속되도록 함

## 3차 정규화(Third Normal Form)

이행적 함수 종속(Transitive Dependency)을 제거하여 모든 속성이 기본 키에 직접 종속되도록 하는 과정

- 기본 키에만 의존하도록 속성을 정리
- 기본 키가 아닌 속성 간의 종속성 제거

## NULL의 특성

- 정의되지 않은 값으로 0 또는 공백과 다름(0은 숫자, 공백은 문자)
- NOT NULL 또는 PRIMARY KEY로 지정되지 않은 모든 데이터 유형은 NULL 값을 포함할 수 있음
- NULL을 포함하는 연산의 결과값은 NULL
- NVL / ISNULL 을 통해 결과가 NULL 일 떄의 결괏값을 바꿀 수 있음
