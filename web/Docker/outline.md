# Docker
## DevOps
DevOps: 개발과 운영의 합성어로 소프트웨어 개발자와 정보기술 전문가 간 소통, 협업, 통합을 강조하는 개발 환경
- 빠른 시간 안에 개발 -> 배포로 이어지는 개발 프로세스를 실행
- 개발 -> Git -> CI -> CD -> Server -> Monitoring 
- 이러한 프로세스를 빠르게 실행하기 위한 철학 & 방법론(문화)
- 서비스의 빠른 개발 & 배포를 위해 이에 필요한 기술들을 사용하는 것
### Git
소스 버전관리의 표준 : 당연히 사용됨

## 서버 관리의 흐름
자체 서버 운영 -> 설정 관리 도구 등장 -> 가상머신 등장 -> 클라우드 등장 -> PaaS 등장 -> 도커 등장 -> 쿠버네티스 등장 -> 서비스메시 등장

### 서버 업그레이드
기존에는 서버 업그레이드 시 각 서버마다 업그레이드 하는 부분의 충돌 여부를 확인하고 직접 적용해야 함
1. 문서화: 비효율적
2. 설정 관리 도구: 코드로 작성하여 협업 / 버전관리가 가능하지만 어렵고 한 서버에 여러 버전을 설치하기가 어려움
3. 가상머신을 도입하여 여러 버전을 설치할 수 있어졌지만 세팅 / 공유 등이 어려움
4. 클라우드를 통해 가상화 환경에서 아키텍처를 구성할 수 있어졌지만 기존 문제는 계속 존재
5. PaaS가 일반화된 프로비저닝 방법을 제공하여 코드만으로 배포가 쉬워졌으나 프로비저닝 과정에 개입할 수 없음
    - 애플리케이션을 PaaS 방식에 맞게 작성해야 하고, 서버에서 원격 접속 시스템 / 서버 파일 시스템 / 서버 패키지를 사용할 수 없고, 로그 수집을 STDOUT 방식으로만 제한적으로 허용함
    - PaaS에서 필요한 기능이 생겼을 경우 클라우드에서 작업이 필요
6. 도커의 등장
### docker
도커는 가상머신처럼 독립적으로 실행되나 가상머신보다 빠르고 쉽고 효율적임
- 리눅스 커널을 활용해 이미지 단위로 프로세스 실행 환경을 구성
- 가상머신은 Host OS 위에 추가로 운영체제를 올려 사용하는데, 도커는 운영체제를 추가로 사용하지 않고 구성됨
- 클라우드 이미지보다 관리가 쉽고, 격리를 통해 성능저하가 거의 없고, 복잡하지 않고, 이미지 빌드 기록이 남고, 재현 / 수정이 쉬움

도커 이후 프로세스
개발 -> 빌드(컨테이너) -> 이동(Ship) -> 실행


### kubernetes
컨테이너 오케스트레이션: 복잡한 컨테이너 환경을 효과적으로 관리하기 위한 도구

쿠버네티스: 쉽고 빠르게 컨테이너들을 배포 / 확장하고 관리를 자동화해주는 오픈소스 플랫폼
- 구글 컨테이너 배포 시스템 borg를 기반으로 만든 오픈소스
- 컨테이너 오케스트레이션의 사실상의 표준(de fatos)

GitOps: Git과 쿠버네티스를 활용해 Git을 Ops(CI / CD) 도구로 사용하는 것
- Argo CD 등
- 이러한 도구들을 이용해서 기업을은 매일 여러 번 배포 진행

### 정리
DevOps 역할:
- 서비스 배포 지원 + 모니터링
- 배포 파이프라인 구성
- 더 자주, 더 빠른 릴리스
- Cloud, 컨테이너
- 보안
- 장애 대응
- laC
- SRE
- 외부 서비스 (DataDog 등)
